section .text
  global _start

util: ;;this functions just adds up all the arguments
  push ebp
  mov ebp, esp
  add eax, dword [esp + 32] ;;1
  add eax, dword [esp + 28] ;;2
  add eax, dword [esp + 24] ;;3
  add eax, dword [esp + 20] ;;4
  add eax, dword [esp + 16] ;;5
  add eax, dword [esp + 12] ;;6
  add eax, dword [esp + 8] ;;7
  leave ;;eax now holds 0x1c, or 28
  ret

_start:
  push ebp
  mov ebp, esp
  push 1
  push 2
  push 3
  push 4
  push 5
  push 6
  push 7
  call util ;;eax should now hold ox1c (28)
  xor ebx,ebx
  mov eax, 0x01
  int 0x80
